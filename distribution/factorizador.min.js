var ARIT=ARIT||{};ARIT.factorizar=function(numero,limite=10){if(numero.toString().length<=limite){if(numero!=1){var primo=2,raizNumero=Math.ceil(Math.sqrt(numero)),primosAnteriores=[],subcompuestos=[],factores=[];while(numero!=1){if(primo>raizNumero){primo=numero;}
while(numero%primo==0){factores.push(primo);subcompuestos.push(numero);numero/=primo;}
primo=siguientePrimo(primo);}
return{'factores':factores,'factorizacion':factoresHtml(factores),'subcompuestos':subcompuestos,'tabla':tablaHtml(factores,subcompuestos)};}else{return{'factores':'','factorizacion':'<span class="fact-resultado">El número "uno" por definición no se considera primo ni compuesto</span>','subcompuestos':'','tabla':''};}}else{return{'factores':'','factorizacion':'<span class="fact-resultado">El número es muy grande e intentarlo podría trabar tu equipo.</span>','subcompuestos':'','tabla':''};}
function siguientePrimo(primoActual){primosAnteriores.push(primoActual);primoActual=primoActual==2?primoActual+1:primoActual+2;var cicloInterrumpido=false;for(i=0;i<primosAnteriores.length;i++){if(primoActual%primosAnteriores[i]==0){cicloInterrumpido=true;break;}}
return cicloInterrumpido?siguientePrimo(primoActual):primoActual;}
function factoresHtml(factores){if(factores.length>1){var factoresUnicos=[];for(i=0;i<factores.length;i++){if(factoresUnicos.indexOf(factores[i])==-1)factoresUnicos.push(factores[i]);}
var potencias=[];for(i=0;i<factoresUnicos.length;i++){potencias[i]=0;for(j=0;j<factores.length;j++){if(factores[j]==factoresUnicos[i])potencias[i]++;}}
var html='<span class="fact-resultado">';for(i=0;i<potencias.length;i++){html+=factoresUnicos[i];html+=potencias[i]==1?'':'<sup>'+potencias[i]+'</sup>';html+=i<potencias.length-1?'&times;':'';}
html+='</span>';return html;}else{return'<span class="fact-resultado">El número '+factores[0]+' es primo</span>';}}
function tablaHtml(factores,subcompuestos){var tabla='<table class="fact-tabla" style="border-collapse:collapse;border-spacing:0px">';for(i=0;i<factores.length;i++){tabla+='<tr><td class="fact-tabla-subcompuesto" style="text-align:right;border-right:solid .1em black;padding-right:.25em;">'+subcompuestos[i]+'</td><td class="fact-tabla-factor" style="padding-left:.25em;">'+factores[i]+'</td></tr>';}
tabla+='<tr><td class="fact-tabla-subcompuesto" style="text-align:right;border-right:solid .1em black;padding-right:.25em;">1</td><td class="fact-tabla-factor">&nbsp;</td></tr>';tabla+='</table>';return tabla;}}